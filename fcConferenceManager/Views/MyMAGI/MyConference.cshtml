@using fcConferenceManager.Models
@model MyConference
@{
    ViewBag.Title = "MyConference";
    Layout = "~/Views/Shared/_Layout.cshtml";
    EvtSummaryPartner pdata = new EvtSummaryPartner();
    if (ViewData["Partners"] != null)
    {
        pdata = (EvtSummaryPartner)ViewData["Partners"];
    }

    bool ShowNoRecords = false;
}
<link href="/Css/multiple-select.css" rel="stylesheet" />
<script src="/Scripts/multiple-select.js" type="text/javascript"></script>
@* Video *@
<link href="/Css/video-js.css" rel="stylesheet" />
<script src="/Scripts/video.min.js" type="text/javascript"></script>
<script src="/Scripts/Youtube.js" type="text/javascript"></script>
<style>
    .SectionTitle, .bold, .lblTitlePop
    {
        font-weight: 700;
    }

    .box-area
    {
        border: 1px solid lightgray;
        border-radius: 10px;
        box-shadow: 0 0 5px #666;
    }

    label#lblPopText ul li
    {
        font-size: 16px;
    }

    @@media(max-width:470px)
    {
        .box-area label.bold.col-4
        {
            font-size: 12px;
        }
    }

    .btnReceipt
    {
        text-decoration: none !important;
        color: black !important;
        cursor: pointer !important;
    }

    .rcpt
    {
        padding-left: 20px;
        background-image: url(/images/miscellaneous/paidstamp.png);
        background-position: 90% 0%;
        background-repeat: no-repeat !important;
        background-size: 125px;
    }

    .freeRcpt
    {
        padding-left: 20px;
        background-image: url(/images/miscellaneous/paidstamp.png);
        background-position: 90% 0%;
        background-repeat: no-repeat !important;
        background-size: 125px;
    }

    .inv
    {
        background-Image: none;
        padding-left: 20px;
    }
</style>

<div class="container-fluid  mt-3">
    <div class="row">
        <div class='magiSidebarWrapper pe-md-0 mb-3 mb-md-0'>
            @if (ViewBag.leftPanel_Visible == true)
            {
                Html.RenderAction("_PartialLeftPanel", "MyMagi");
            }
            @{
                Html.RenderAction("ChatPanelAction", "MyMagi");
            }
        </div>
        <div class="col-md-8 col-lg-9 flex-grow-1">
            <div class="row">
                <div class="col-md-8">
                    <h2>@ViewBag.lblTitle</h2>
                </div>

                <div class="col-md-4">
                    <div class="d-flex justify-content-end align-items-center flex-wrap">
                        @{
                            if (ViewBag.HelpIconInfo != null)
                            {
                                if ((ViewBag.HelpIconInfo.PageIconVisible))
                                {
                                    string bAutoplay = (ViewBag.HelpIconInfo.bAutoPlay) ? "true" : "false";
                                    <input type="hidden" id="vidAutoPlayType" value="@bAutoplay" />
                                    @Html.Raw("<input id='PageHelpIcon' type='image' src='/images/icons/videoPlay2.png' value='' width='32' class='me-1 mb-1' />")
                                }
                            }
                        }
                        @if (ViewBag.VirtualDropdown_Visible)
                        {
                            <select id="VirtualEventDropDown" class="me-1 mb-1">
                                @if (ViewBag.ddEventVirtualData != null)
                                {
                                    System.Data.DataTable dt = (System.Data.DataTable)ViewBag.ddEventVirtualData;
                                    foreach (System.Data.DataRow dr in dt.Rows)
                                    {
                                        @Html.Raw("<option value='" + dr["pKey"] + "' " + ((ViewBag.SelectedDropDown == dr["pKey"].ToString()) ? "selected>" : ">") + dr["strText"] + "</option>")
                                    }
                                }
                            </select>
                        }
                        <a id="cmdReturn" href="@ViewBag.ReturnUrl" type="button" class="btn mb-1 mb-1">Return</a>
                    </div>
                </div>
            </div>
            @if (ViewBag.phAttend)
            {
                <div class="row">
                    <label id="Label18"> Conference details for <b> @ViewBag.lblAttName </b></label>
                    <details class="hidedetail">
                        <summary style="color:navy"><strong>Instructions</strong></summary>
                        @Html.Raw(ViewBag.LblInstruction)
                    </details>
                </div>
            }
            <div class="row">
                @if (ViewBag.phNotRegistered)
                {
                    <div class="col-md-6" style="">
                        <label Class="SectionTitle">Not Registered</label>
                        <label>You are currently not registered for this event.<br>To participate, click one of the links below.</label>
                        <div class="d-flex">
                            <button id="btnNoReg" class="btn me-1 mb-1" Width="100px">Register Now</button>
                            <label class="ms-2">Click here to start the registration process.</label>
                        </div>
                        <div class="d-flex">
                            <button id="btnNoSpeak" class="btn me-1 mb-1" Width="100px">Be a Speaker</button>
                            <label>Click here to see if you can speak at this or a future conference</label>
                        </div>
                    </div>
                }
            </div>
            <div class="row gx-2 py-1">
                <input type="hidden" id="hdnParticipationType" value="@pdata.hdnParticipationType" />
                <div class="col-lg-6 mb-md-3 mb-lg-0">

                    <input type="hidden" id="strViewPdfType" value="" />
                    @if (ViewBag.phAttend)
                    {
                        <div class="p-2 box-area">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-7">
                                            <label Class="SectionTitle " style="color: #00008b;">Attendance</label>
                                        </div>

                                        <div class="col-md-5 justify-content-lg-end align-items-center d-flex">
                                            <button id="btnStarted" class="btn me-1" style="border:1px solid gray; border-radius:2px">Get Started</button>
                                            @if (ViewBag.cmdConfFeedback)
                                            {
                                                <button id="btnConfFeedback" class="btn btn_Yellow">Give Feedback on the Event</button>
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 d-flex align-items-center flex-wrap">
                                    <a class="me-1" id="btnEventHandbook" href=""><u>Event handbook</u></a>
                                    <a class="ms-1 me-1" id="btnInstructAtt" href=""><u>Get help</u></a>
                                    <a class="ms-1 me-1" id="btnCancelPlan" href=""><u>Can't join us?</u></a>
                                    <a class="ms-1 me-1" id="btnActQues" href="" style="display:none;"><u>Polling Question</u></a>
                                    <a class="ms-1 me-1" id="btnBusinessCard" href="" style="display:none;"><u>Exchange Business Card</u></a>
                                    @if (ViewBag.CmdEventChanges)
                                    {
                                        <a class="ms-1" id="btnEventChanges" href="/EventChanges"><u>Event Changes</u></a>
                                    }
                                </div>
                            </div>
                            <div class="col-md-12 align-items-center ">
                                <div class="d-flex mt-2 mt-mb-0">
                                    <label id="lblsConference" class="bold col-4">Event: </label>
                                    <label id="lblConference" class="col-8  ms-1">@ViewBag.lblConference</label>
                                </div>
                                <div class="d-flex mt-2">
                                    <label id="lblsLocation" class="bold col-4">Location: </label>
                                    <label id="lblLocation" class="col-8  ms-1">@ViewBag.lblLocation</label>
                                </div>
                                <div class="d-flex mt-2">
                                    <label id="lblsDates" class="bold col-4">Dates: </label>
                                    <label id="lblDates" class="col-8  ms-1">@ViewBag.lblDates</label>
                                </div>
                                <div class="d-flex mt-2">
                                    <label id="lblsRegType" class="bold col-4">Registration Type: </label>
                                    <label id="lblRegistrationType" class="col-8  ms-1">@ViewBag.lblRegistrationType</label>
                                </div>
                                <div class="d-flex mt-2">
                                    @if (ViewBag.phInvoice)
                                    {
                                        int Num = 0;
                                        if (Model.tblRecipts != null)
                                        {
                                            <label id="lblsReciept" class="bold col-4">Receipt/Invoice: </label>
                                            <div class="col-md-8">
                                                @foreach (System.Data.DataRow i in Model.tblRecipts.Rows)
                                                {
                                                    <a id="@i["ReceiptNumber"]" class="btnReceipt  ms-1" style="cursor:pointer;text-decoration:none;color:blue;">@i["ReceiptNumberText"].ToString()</a>
                                                }
                                            </div>
                                        }
                                    }
                                </div>
                                @if (ViewBag.phGroupCode)
                                {
                                    <div class="d-flex mt-2">
                                        <label id="lblsGroupCode" class="bold col-4">Group Code: </label>
                                        <label id="lblGroupCode" class="col-md-8  ms-1">@ViewBag.strGroupCode</label>
                                    </div>
                                }
                                @if (ViewBag.phPaid != null && ViewBag.phPaid)
                                {
                                    <div class="d-flex mt-2">
                                        <label id="lblsRegStatus" class="bold col-4">Paid: </label>
                                        <label id="lblAmt1" class=" ms-1" style="color:@ViewBag.lblAmt1ForeColor">@ViewBag.lblAmt1</label>
                                        <label class="ms-2" id="lblRegBal">@ViewBag.lblRegBal</label>
                                        <a class="ms-2" id="btnGetReceipt">@ViewBag.btnGetReceiptText </a>
                                        <label class="ms-2" id="lblRegDt">@ViewBag.lblRegDt</label>
                                    </div>
                                }
                                @if (ViewBag.phUnPaid != null && ViewBag.phUnPaid)
                                {
                                    <div class="d-flex mt-2">
                                        <label id="lblPay" class="bold col-4">Payment Pending: </label>
                                        <label id="lblAmt2" class=" ms-1" style="color: @ViewBag.lblAmt2ForeColor">@ViewBag.lblAmt2</label>
                                        @if (ViewBag.pnlInvoice)
                                        {
                                            <span id="pnlInvoice">
                                                <label class="ms-1" id="lblRegBal2">@ViewBag.lblRegBal2</label>
                                                @if (ViewBag.btnReceiptVisible)
                                                {
                                                    <a class="ms-2 btnReceipt" id="btnReceipt">@ViewBag.btnReceiptText </a>
                                                }
                                                <label id="lblRegDt2">)</label>
                                            </span>
                                        }
                                        @if (ViewBag.btnPayNowVisible)
                                        {
                                            <a class="ms-1" id="btnPaynow" style="cursor:pointer">Pay Now </a>
                                        }
                                    </div>
                                }
                                <div class="d-flex mt-2">
                                    <label class="bold col-4">Payment Status: </label>
                                    <label id="lblPayStatus" class=" ms-1">@ViewBag.lblPayStatus</label>
                                </div>
                                @if (ViewBag.trOptions)
                                {
                                    <div class="d-flex mt-2">
                                        <label id="lblsOptions" class="bold col-4">My Options: </label>
                                        @if (ViewBag.btnOptionsEnabled)
                                        {
                                            <a id="btnOptions" class=" ms-1" href="/MyMAGI/MyOptions">@ViewBag.btnOptionsText</a>
                                        }
                                        else
                                        {
                                            <label id="lblsbtnOptions" class=" ms-1">@ViewBag.btnOptionsText</label>
                                        }
                                    </div>
                                }
                                @if (ViewBag.trNetworkingLEvel)
                                {
                                    <div class="d-flex mt-2">
                                        <label id="lblnetLevel" class="bold col-4">Networking Level: </label>
                                        <label id="lblsNetworkingLevel" class=" ms-1">@ViewBag.lblsNetworkingLevel</label>
                                    </div>
                                }
                                @if (ViewBag.trActivity)
                                {
                                    <div class="d-flex mt-2">
                                        <label id="lblsActivity" class="bold col-4">Create My Schedule: </label>
                                        @if (ViewBag.btnActivityEnabled)
                                        {
                                            <a id="btnActivity" class=" ms-1" href="/MyMAGI/MySession">@ViewBag.btnActivityText</a>
                                        }
                                        else
                                        {
                                            <label class=" ms-1" id="lblbtnActivity">@ViewBag.btnActivityText</label>
                                        }
                                    </div>
                                }
                                @*
                                    @if (ViewBag.trSchedule)
                                    {
                                        <div class="d-flex mt-2">
                                            <label id="lblsSchedule" class="bold col-md-3">View My Schedule: </label>
                                            <a id="btnSchedule" class=" ms-1"  href="/MyMAGI/MySchedule">@ViewBag.btnScheduleText</a>
                                        </div>
                                    }
                                *@
                                @if (ViewBag.trSchedule)
                                {
                                    <div class="d-flex mt-2">
                                        <label id="lblsSchedule" class="bold col-4">View My Schedule: </label>
                                        @if (ViewBag.btnScheduleEnabled)
                                        {
                                            <a id="btnSchedule" class=" ms-1" href="/MyMAGI/MySchedule">@ViewBag.btnScheduleText</a>
                                        }
                                        else
                                        {
                                            <label class=" ms-1" id="lblbtnSchedule">@ViewBag.btnBookText</label>
                                        }
                                    </div>
                                }
                                @if (ViewBag.trMyBooks)
                                {

                                    <div class="d-flex mt-2">
                                        <label id="lblsBook" class="bold col-4">My Book: </label>
                                        @if (ViewBag.cmdBook)
                                        {
                                            <a id="btnBook" class=" ms-1" href="/MyMAGI/MyConferenceBook">@ViewBag.btnBookText</a>
                                        }
                                        else
                                        {
                                            <label class=" ms-1" id="lblBookText">@ViewBag.btnBookText</label>
                                        }
                                    </div>
                                }
                                @if (ViewBag.pnlTL)
                                {
                                    <div class="d-flex mt-2">
                                        <label class="bold col-4">Travel: </label>
                                        <label class=" ms-1" id="lblTravel">@ViewBag.lblTravelText</label>
                                        <a id="btnTravel" href="/MyOptions">@ViewBag.btnTravelText</a>
                                    </div>
                                    <div class="d-flex mt-2">
                                        <label id="lblsLodging" class="bold col-4">Lodging: </label>
                                        <label class=" ms-1" id="lblLodging">@ViewBag.lblLodgingText</label>
                                        <a id="btnCheckInOut" href="/MyOptions">@ViewBag.btnCheckInOutText</a>
                                    </div>

                                }
                                <div class="d-flex mt-2">
                                    @if (ViewBag.bSpeakerAtEvent)
                                    {
                                        <label style="font-size:9pt">Slides will be available about a week before the event.</label>
                                    }
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <div class="col-lg-6">
                    @if (ViewBag.phViewSpkChr)
                    {
                        <div class="p-2 mt-2 mt-md-0" style="border: 1px solid lightgray; border-radius: 10px; box-shadow: 0 0 5px #666; height: 320px; overflow-y: auto;">
                            <div id="phViewSpkChr">
                                <div class="col-md-12 d-md-flex align-items-center ">
                                    <label id="lblTitleSpeaker" class="SectionTitle" style="color: #00008b;">My Sessions</label> <br />
                                </div>
                                <div class="col-md-12 align-items-center ">
                                    @if (ViewBag.btnInstructSpkVisible)
                                    {
                                        <label id="label15" class="SectionTitle"></label>
                                        <a id="btnInstructSpk" href="" class="Font11" style="color:blue">Speaker Handbook</a>
                                    }
                                    @if (ViewBag.btnInstructLdrVisible)
                                    {
                                        <label id="lblLeaderSpace" class="SectionTitle">,</label>
                                        <a id="btnInstructLdr" href="" class="Font11" style="color:blue">Leader Handbook</a>
                                    }
                                    @if (ViewBag.btnInstructModtVisible)
                                    {
                                        <label id="lblModeratorSpace" class="SectionTitle">,</label>
                                        <a id="btnInstructModt" href="" class="Font11" style="color:blue">Moderator Handbook</a>
                                    }
                                    @if (ViewBag.btnInstructChrVisible)
                                    {
                                        <label id="lblChairSpace" class="SectionTitle"> and </label>
                                        <a id="btnInstructChr" href="" class="Font11" style="color:blue">Chair Handbook</a>
                                    }
                                </div>

                                @if (Model != null && Model.tblSessions != null && Model.tblSessions.Rows.Count > 0)
                                {
                                    <div id="repSessions" class="mt-2">
                                        @foreach (System.Data.DataRow dr in Model.tblSessions.Rows)
                                        {
                                            <div class="col-md-12 d-md-flex align-items-center mt-2">
                                                <button id="@dr["EvtSession_pKey"]" class="btnSpkSes btn me-1 mb-1  col-md-1" style="width:100px;">@dr["SessionID"]</button>
                                                <label id="lblSpkSes">@dr["SessionStatus"]</label>
                                                @if (Convert.ToBoolean(dr["bShowSpeakerPass"]))
                                                {
                                                    <label>@dr["DiscountCode"]</label>
                                                }
                                                <button id="Spkquest+@dr["EvtSession_pKey"]" class="btnAllowAttendee btn me-1 mb-1" style="width: 100px; display: @((dr["ActivityStart"].ToString().ToLower() == "true") ? "initial;" : "none;");">@dr["QuestionStatus"]</button>
                                                <button id="SQueResp+@dr["EvtSession_pKey"]" class="btnQuesResponse btn me-1 mb-1" style="width: 100px; display: @((dr["ActivityStart"].ToString().ToLower() == "true") ? "initial;" : "none;");"> Answers </button>
                                            </div>
                                        }
                                    </div>
                                }
                                @if (Model != null && Model.tblChairs != null && Model.tblChairs.Rows.Count > 0)
                                {
                                    <div id="repChair" class="mt-2">
                                        @foreach (System.Data.DataRow dr in Model.tblChairs.Rows)
                                        {
                                            <div class="col-md-12 d-md-flex align-items-center mt-2">
                                                <button id="@dr["EvtSession_pKey"]" class="RepSes btn me-1 mb-1" style="width:100px;">@dr["SessionID"]</button>
                                                <label id="lblRepSes">@dr["SessionStatus"]</label>
                                                <button id="Chrquest+@dr["EvtSession_pKey"]" class="btnAllowAttendee  btn me-1 mb-1" style="width: 100px; display: @((dr["ActivityStart"].ToString().ToLower() == "true") ? "initial;" : "none;");">@dr["QuestionStatus"]</button>
                                                <button id="CQueResp+@dr["EvtSession_pKey"]" class="btnQuesResponse btn me-1 mb-1" style="width: 100px; display: @((dr["ActivityStart"].ToString().ToLower() == "true") ? "initial;" : "none;");"> Answers </button>
                                            </div>
                                        }
                                    </div>
                                }
                                @if (ViewBag.btnSpkDinVisible)
                                {
                                    <div class="col-md-12">
                                        @if (ViewBag.trdinner)
                                        {
                                            <div class=" d-md-flex align-items-center mt-2">
                                                <button id="btnSpkDin" class=" btn me-1 mb-1" style="width:100px;">Dinner</button>
                                                <label id="lblSpkDin">@ViewBag.lblSpkDin</label>
                                            </div>
                                        }
                                        <div class=" d-md-flex align-items-center mt-2">
                                            <button id="btnSpkCert" class=" btn me-1 mb-1 " style="width:100px;">Certificate</button>
                                            <label id="lblSpkCert">A certificate of appreciation for speaking</label>
                                        </div>
                                        <div class=" d-md-flex align-items-center mt-2">
                                            <button id="btnSpkFeed" class=" btn me-1 mb-1 " style="width:100px">Feedback</button>
                                            <label id="lblSpkFeed">@ViewBag.lblSpkFeed</label>
                                        </div>
                                    </div>
                                }
                                @*<tr style="display: none;" class="magi-mobile-flex">
                                        <td style="padding-top: 5px; width: 100px;" class="magi-mobile-flex-item">
                                            <button id="btnChrPrfrnc" class="btnSmall  btn me-1 mb-1" style="width:100px">Session Chair</button>
                                        </td>
                                        <td style="padding: 5px 0px 0px 5px" class="magi-mobile-flex-item magi-flex1">
                                            <label>Edit your chair preferences</label>
                                        </td>
                                    </tr>*@
                                <div class="col-md-12 mt-2">
                                    @if (ViewBag.bSpeakerAtEvent)
                                    {
                                        <label>*Will be visible only to you and event staff.</label>
                                    }
                                </div>
                            </div>
                        </div>
                    }
                    @if (ViewBag.phPartner && pdata != null)
                    {
                        <div class="p-2  mt-2" style="border: 1px solid lightgray; border-radius: 10px; box-shadow: 0 0 5px #666;">
                            <div id="phPartner">
                                <div class="col-md-12 d-flex align-items-center">
                                    <label id="lblMainTitle" class="SectionTitle" style="color: #00008b;">@pdata.lblMainTitle</label>
                                    <a id="btnPartnerMInstruct" href="" class="lblSmall ms-2 Font11" style="color:blue;display:none;">@pdata.btnPartnerMInstruct</a>
                                </div>
                                <div class="col-md-12 align-items-center mt-2" style="display:none;">
                                    @if (pdata.lblPartnerTitleVisible)
                                    {
                                        <label id="lblPartnerTitle" class="SectionTitle">@pdata.lblPartnerTitle</label>
                                    }
                                    @if (pdata.btnInstructPartnerVisible)
                                    {
                                        <a id="btnInstructPartner" href="" class="lblSmall ms-2" style="color:blue">Guidelines</a>
                                    }
                                </div>
                                <div class="col-md-12">
                                    <div class="mt-2 align-items-center" style="display:none;">
                                        <label id="lbltext">@pdata.lbltext</label>
                                    </div>
                                    <div class="d-md-flex mt-2 align-items-center">
                                        <button id="btnPtExh" class=" btn me-1 mb-1" style="width:180px">@pdata.btnPtExh</button>
                                        <div class="px-md-2 ">
                                            <label id="lblExibit" style="display:none;">Information for exhibitors</label>
                                            <a id="btnPTypeGLines" href="" style="color:blue">@pdata.btnPTypeGLines</a>
                                            <input id="hdnIsExibitor" hidden />
                                        </div>
                                    </div>
                                    @if (ViewBag.tr1)
                                    {
                                        <div class="d-md-flex align-items-center mt-2 mt-md-0">
                                            <button id="btnPartnerDinner" class="btn me-1 " style="width:180px">Speaker Dinner</button>
                                            <div class="px-md-2">
                                                <label id="Label35">Attend the speaker dinner</label>
                                            </div>
                                        </div>
                                    }
                                    @if (ViewBag.trContract)
                                    {
                                        <div id="trContract" class="mt-2 align-items-center" style="display: none">
                                            <a id="btnContract" href="@ViewBag.btnContractNavigateUrl" style="width:117px">Contract</a>
                                            <label>View the event contract</label>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                    }
                    @if (ViewBag.phAmbassador)
                    {
                        <div class="p-2 mt-2 mt-lg-2" style="border: 1px solid lightgray; border-radius: 10px; box-shadow: 0 0 5px #666;">
                            <div id="phAmbassador">
                                <div class="col-md-12 p-2" style="background-color: beige;">
                                    <div class="d-flex align-items-center">
                                        <label class="SectionTitle" style="color: #00008b;">Ambassador</label>
                                        <a id="btnPartnerMInstruct" href="" class="lblSmall ms-2 Font11" style="color:blue;display:none;">@pdata.btnPartnerMInstruct</a>
                                    </div>
                                    <div class="align-items-center mt-2">
                                        <label id="lblInstructAmbassador">@ViewBag.lblInstructAmbassador</label> <br />
                                        <button id="btnInstructAmbassador" style="width:135px" class="mt-1 btn me-1 mb-1">Instructions</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    @if (ViewBag.phSpecialEvent)
                    {
                        <div id="phSpecialEvent">
                            <div class="p-2 mt-2 mt-lg-0" style="border: 1px solid lightgray; border-radius: 10px; box-shadow: 0 0 5px #666;">
                                <div class="d-flex align-items-center">
                                    <label class="SectionTitle">Special Event</label> <br />
                                    <label class="mt-2">You are signed up for special event. Click below to view the details.</label><br />
                                    <button id="btnSpecialEvents" style="width:135px" class="btn me-1 mb-1 mt-2">Special Events</button>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
<input type="hidden" value="@ViewBag.intTobePaidAmount" id="eABal" />

@*Popup*@

<div class="modal fade" id="rwPopText" tabindex="-1" aria-labelledby="rwPopText" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" style="width:800px;">
        <div class="modal-content">
            <table style="width: 100%">
                <tr>
                    <td>
                        <table style="width: 100%" class="modalBlueHeader">
                            <tr>
                                <td>
                                    <table>
                                        <tr>
                                            <td>
                                                <img id="imgPopText" src="~/Images/miscellaneous/terms.png" height="40px" style="display:none" />
                                            </td>
                                            <td style="vertical-align: middle; padding-left: 5px">
                                                <label id="lblPopTextTitle" class="bold"></label>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                                <td style="text-align: right;">
                                    <div class="d-flex align-items-center justify-content-end">
                                        <button id="btnPdfView" class="btn me-1" style="display:none; "></button>
                                        <button id="closeModal" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Close</button>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 20px 10px 10px 10px">
                        <label id="lblPopText" style="font-size:9pt"></label>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>

@*Cancel Registration*@

<input type="hidden" value="@ViewBag.cancelPopupField" id="hdfPopUPField" />
<div class="modal fade" id="CancelRegistration" tabindex="-1" aria-labelledby="printScheduleLbl" aria-hidden="true">
    <!--CancelSpeaker -->
    @if (ViewBag.cancelPopupField == 1)
    {
        <div class="modal-dialog modal-dialog-centered modal-xl" style="height:200px; width:600px;">
            <div class="modal-content">
                <div class="modal-header modalBlueHeader">
                    <h5 class="modal-title">Registration Cancellation</h5>
                    <div>
                        <button id="btnSaveResion" type="button" class="btn  me-1">Save</button>
                        <button id="closeModal" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                    </div>
                </div>
                <div class="modal-body">
                    <span>Reason:</span><br />
                    <textarea id="cancellationReason" placeholder="" name="cancellationReason" rows="3" cols="180"></textarea>
                </div>
            </div>

        </div>
    }
    @*Cancel provisional*@
    else if (ViewBag.cancelPopupField == 2)
    {
        <div class="modal-dialog modal-dialog-centered modal-xl" style="height:15px; width:400px;">
            <div class="modal-content">
                <div class="modal-header modalBlueHeader">
                    <table width="100%">
                        <tr>
                            <td style="padding-top: 5px">
                                <div class="alertify-message">
                                    <label id="Label85">Can you attend?</label>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: center">
                                <div class="alertify-buttons">
                                    <button id="closeModal" type="button" class="btn  me-1 mb-1" data-bs-dismiss="modal">Yes</button>
                                    <button id="btnRegCancelProvisionalNo" type="button" class="btn me-1 mb-1" aria-label="Close">No</button>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    }
    @*Registration cancellation for free pass*@
    else if (ViewBag.cancelPopupField == 3)
    {
        <div class="modal-dialog modal-dialog-centered modal-xl" style="height:200px; width:400px;">
            <div class="modal-content">
                <div class="modal-header modalBlueHeader">
                    <table width="100%">
                        <tr>
                            <td style="padding-top: 5px">
                                <div class="alertify-message">
                                    <label id="Label85">Confirm registration cancellation?</label>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: center">
                                <div class="alertify-buttons">
                                    <button id="btnSaveFreePass" type="button" class="btn  me-1 mb-1">Yes</button>
                                    <button id="closeModal" type="button" class="btn me-1 mb-1" data-bs-dismiss="modal" aria-label="Close">No</button> @*data-bs-dismiss="modal"*@
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    }
    else
    {
        <div class="modal-dialog modal-dialog-centered modal-xl" style="height:100px; width:400px;">
            <div class="modal-content">
                <div class="modal-header modalBlueHeader">
                    <h5 class="modal-title"></h5>
                    <div>
                        <button id="closeModal" type="button" class="btn me-1 mb-1" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                    </div>
                </div>

            </div>

        </div>
    }
</div>


@*Receipt*@
<div class="modal fade" id="recipetPreview" tabindex="-1" aria-labelledby="recipetPreview" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header modalBlueHeader">
                <h5 class="modal-title">Receipt</h5>
                <div>
                    <button id="ExportPDFReciept" type="button" class="btn">Print to PDF</button>
                    <button id="closeModal" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                </div>
            </div>
            <div class="modal-body p-1">
                <div class="row p-2">
                    <div class="col-md-12">
                        <div class="d-flex justify-content-between align-items-center">
                            <img id="image1" src="" style="display:none;margin-bottom:10px;" />
                            <label id="lblReceiptNum" class="pull-right justify-content-end" style="font-size:32px; font-family:none;"> Payment Receipt </label>
                        </div>
                        <label id="lblReciiptTitle" style="font-size:18px;margin-bottom:10px;"> Payment Receipt </label>
                        <div id="rcptClass">
                            <label id="lblReceiptBody" class="lblReceiptMedium"> Payment Receipt </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div>
    <div class="modal fade" id="PopupFile" tabindex="-1" aria-labelledby="PopupFile" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" style="width: 1000px; height: 600px">
            <div class="modal-content">
                <iframe id="idPopupfile" src="" style="width: 100%; height: 600px"></iframe>

            </div>
        </div>
    </div>
</div>


<div>
    <div class="modal fade" id="rwAmbassador" tabindex="-1" aria-labelledby="rwAmbassador" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" style="width:800px; height:600px;">
            <div class="modal-content">
                <table style="width: 100%">
                    <tr>
                        <td>
                            <table style="width: 100%">
                                <tr>
                                    <td>
                                        <table>
                                            <tr>
                                                <td style="vertical-align: middle; padding-left: 5px">
                                                    <label id="lblAmbassadorTitle" style="font-size:20pt">Ambassador Instructions</label>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                    <td style="text-align: right; padding-right: 10px ;">
                                        <div><button id="closeModal" type="button" class="btn me-1 mb-1" data-bs-dismiss="modal" aria-label="Close">Close</button></div>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 20px 10px 10px 10px">
                            <label id="lblAmbassadorInstruction" style="font-size:9pt;">@ViewBag.lblAmbassadorInstruction</label>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="rwSpecialEvents" tabindex="-1" aria-labelledby="rwSpecialEvents" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" style="width:500px;">
        <div class="modal-content">
            <table style="width: 100%">
                <tr>
                    <td>
                        <table style="width: 100%">
                            <tr>
                                <td>
                                    <table>
                                        <tr>
                                            <td style="vertical-align: middle; padding-left: 5px">
                                                <label id="lblAmbassadorTitle" style="font-size:20pt">Special Event</label>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                                <td style="text-align: right; padding-right: 10px ;">
                                    <div><button id="closeModal" type="button" class="btn me-1 mb-1" data-bs-dismiss="modal" aria-label="Close">Close</button></div>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 5px; width: 100%">
                        <div id="repSpecialEvent">

                            <table>
                                <tr style="background-color: #1e90ff; color: white">
                                    <td style="padding: 5px">
                                        <label style="width:80px;">Name</label>
                                    </td>
                                    <td style="padding: 5px">
                                        <label style="width:100px;">Date</label>
                                    </td>
                                    <td style="padding: 5px">
                                        <label style="width:80px;">Time</label>
                                    </td>
                                    <td style="padding: 5px">
                                        <label style="width:120px;">Location</label>
                                    </td>
                                </tr>
                            </table>

                            @if (Model != null && Model.tblSpecialEvent != null && Model.tblSpecialEvent.Rows.Count > 0)
                            {
                                <table>
                                    @foreach (System.Data.DataRow dr in Model.tblSpecialEvent.Rows)
                                    {
                                        <tr>
                                            <td style="padding: 5px">
                                                <label style="width:80px;">@dr["sessionid"]</label>
                                            </td>
                                            <td style="padding: 5px">
                                                <label style="width:100px;">@dr["mainDate"]</label>
                                            </td>
                                            <td style="padding: 5px">
                                                <label style="width:80px;">@dr["mainTime"]</label>
                                            </td>
                                            <td style="padding: 5px">
                                                <label style="width:120px;">@dr["Location"]</label>
                                            </td>
                                        </tr>
                                    }
                                </table>
                            }
                            @{


                                if (Model == null)
                                {
                                    ShowNoRecords = true;
                                }
                                else if (Model.tblSpecialEvent == null)
                                {
                                    ShowNoRecords = true;
                                }

                                else if (Model.tblSpecialEvent.Rows.Count == 0)
                                {
                                    ShowNoRecords = true;
                                }
                                if (ShowNoRecords)
                                {
                                    <table>
                                        <tr id="trEmpty">
                                            <td colspan="2" align="center">
                                                (No records to display)
                                            </td>
                                        </tr>
                                    </table>
                                }
                            }
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>

<div id="dvResponse">
    <div class="modal fade" id="rwResponse" tabindex="-1" aria-labelledby="rwResponse" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" style="width:535px; height:350px;">
            <div class="modal-content">
                <table style="width: 100%">
                    <tr>
                        <td>
                            <table style="width: 100%">
                                <tr>
                                    <td>
                                        <table>
                                            <tr>
                                                <td style="vertical-align: middle; padding-left: 5px">
                                                    <label id="lblAmbassadorTitle" style="font-size:20pt">Activity Questions</label>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                    <td style="text-align: right; padding-right: 10px ;">
                                        <div><button id="closeModal" type="button" class="btn me-1 mb-1" data-bs-dismiss="modal" aria-label="Close">Close</button></div>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <table id="tblResponse" class="table" width="100%">
                            </table>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
@*------------------Payemnt Option ---------------*@


<div class="modal fade" id="rwPaymentMethod" tabindex="-1" aria-labelledby="rwPaymentMethod" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="col-md-12">
                <div class="flex-column flex-md-row modal-header modalBlueHeader">
                    <h5 class="modal-title mb-1 mb-md-0">Select Payment Method</h5>
                    <div class="d-flex">
                        <button id="btnPaymentOpProceed" type="button" class="btn me-1">Proceed</button>
                        <button id="closeModal" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                    </div>
                </div>
                <div class="modal-body p-0">
                    <div class="row">
                        <div class="col-md-12 mt-2 mb-3">
                            <label>Choose your payment method below. You will have one more opportunity to review and confirm your selection.</label>
                        </div>
                        <div class="col-md-12 mb-3">
                            @if (ViewBag.PaymentMethods != null)
                            {
                                System.Data.DataTable dt = (System.Data.DataTable)ViewBag.PaymentMethods;
                                if (dt != null && dt.Rows.Count > 0)
                                {
                                    foreach (System.Data.DataRow dr in dt.Rows)
                                    {
                                        <input type="radio" id="@("rdPaymentMethod" + dr["pKey"])" class="rdPaymentMethod" name="rdPaymentMethod" value="@dr["pKey"]" />
                                        <label for="@("rdPaymentMethod" + dr["pKey"])">@dr["strText"]</label><br>
                                    }
                                }
                                <input type="radio" id="@("rdPaymentMethod8")" class="rdPaymentMethod" name="rdPaymentMethod" value="8" />
                                <label for="@("rdPaymentMethod8")">Voucher</label><br>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="payCredit" tabindex="-1" aria-labelledby="payCredit" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header modalBlueHeader">
                <h5 class="modal-title">Payment for: @ViewBag.FullName</h5>
                <div>
                    <button id="btnProceedPayment" type="button" class="btn">Proceed</button>
                    <button id="closeModal" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                </div>
            </div>
            <div class="modal-body">
                @{Html.RenderAction("_PartialPayCredit", "MyMagi");}
                <input type="hidden" id="eventAccoubtBalance" value="@ViewBag.dblAccountBalance" />
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="rwVoucherConfirm" tabindex="-1" aria-labelledby="rwVoucherConfirm" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-body">
                <div class="col-md-12">
                    <label id="lblVoucherConfirm"> </label>
                    <div class="d-flex mt-2">
                        <button id="cmdVoucherConfirmCreate" type="button" class="btn">OK</button>
                        <button id="cmdVoucherConfirmCancel" type="button" class="btn btnOrange" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                    </div>
                </div>
            </div>
            <input type="hidden" id="hdnRemainingAmount" value="" />
            <input type="hidden" id="hdnVoucherCode" value="" />
            <input type="hidden" id="hdnVoucherPkey" value="" />
        </div>
    </div>
</div>

<div class="modal fade" id="rwVoucher" tabindex="-1" aria-labelledby="rwVoucher" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header modalBlueHeader">
                <h5 class="modal-title">Pay by Voucher</h5>
                <div>
                    <button id="closeVoucherModal" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <label id="lblVoucherInstruction" style="display:none;"> To obtain the PIN, contact the person who holds the voucher and tell them to get the PIN by opening My MAGI > My Charges and Payments > Show Vouchers </label>
                        <label id="lblErrorVoucher" style="color:red;display:none;"></label>
                    </div>
                    <div class="col-md-12 mt-2">
                        <div class="d-flex">
                            <span ID="Label9" class="col-md-3 text-md-end me-1">Amount: </span>
                            <div class="col-md-6">
                                <input id="txtVAmount" class="txtRequired" type="text" min="0" maxlength="10" />
                            </div>
                        </div>
                        <div id="trVCode">
                            <div class="d-flex  mt-2">
                                <span ID="Label10" class="col-md-3 text-md-end me-1">Voucher code: </span>
                                <div class="col-md-6">
                                    <input id="txtVoucherNo" class="txtRequired Font11" type="text" min="0" maxlength="20" />
                                </div>
                            </div>
                            <div class="col-md-12 text-center">
                                <button id="cmdVoucherValidate" class="btn mt-2">Validate</button>
                            </div>
                        </div>
                        <div id="trVPin" style="display:none;">
                            <div class="d-flex  mt-2" id="trVPinReq">
                                <span ID="Label10" class="col-md-3 text-md-end">Voucher PIN: </span>
                                <div class="col-md-6">
                                    <input id="txtVoucherPin" class="txtRequired Font11" type="text" min="0" maxlength="20" />
                                </div>
                            </div>
                            <div class="col-md-12  text-center">
                                <span ID="lblVoucherAmount" class="text-md-end"></span><br />
                                <button id="cmdSaveVoucher" class="btn mt-2">Apply</button>
                            </div>
                            <input type="hidden" id="sIssuedForEvent" value="" />
                            <input type="hidden" id="IssuedForEventpKey" value="" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="rwCheck" tabindex="-1" aria-labelledby="rwCheck" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header modalBlueHeader">
                <h5 class="modal-title">Pay by Check</h5>
                <div>
                    <button id="cmdCheckSave" type="button" class="btn">OK</button>
                    <button id="cmdCheckCancel" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="col-md-12 mt-2">
                    <div class="d-flex">
                        <span ID="Label55" class="col-md-5 text-md-end me-1">Amount: </span>
                        <div class="col-md-6">
                            <input id="txtCheckAmount" class="input-sm txtRequired Font11" type="text" min="0" maxlength="10" />
                        </div>
                    </div>
                    <div class="d-flex mt-2">
                        <span ID="Label556" class="col-md-5 text-md-end me-1">Check number (if known): </span>
                        <div class="col-md-6">
                            <input id="txtPayCheckNum" class="input-sm txtRequired Font11" type="text" min="0" maxlength="20" />
                        </div>
                    </div>
                    <div class="d-flex mt-2">
                        <span ID="Label557" class="col-md-5 text-md-end me-1">Name on checking account: </span>
                        <div class="col-md-6">
                            <input id="txtPayCheckName" class="input-sm txtRequired Font11" type="text" min="0" maxlength="20" />
                        </div>
                    </div>
                    <div class="d-flex mt-2">
                        <span ID="Label558" class="col-md-5 text-md-end me-1">Date we can expect it to arrive: </span>
                        <div class="col-md-6">
                            <input id="dpPayCheckExpect" class="input-sm txtRequired Font11" type="date" min="0" maxlength="20" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="rwWire" tabindex="-1" aria-labelledby="rwWire" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header modalBlueHeader">
                <h5 class="modal-title">Pay by Wire</h5>
                <div>
                    <button id="cmdWireSave" type="button" class="btn bold">Proceed</button>
                    <button id="cmdWireCancel" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="col-md-12">
                    <label id="lblWireInstruct"> </label>
                </div>
                <div class="col-md-12 ">
                    <div class="d-flex mt-2">
                        <span ID="lblAM" class="col-md-4 text-md-end me-1">Amount: </span>
                        <div class="col-md-7">
                            <input id="txtWireAmount" class="input-sm txtRequired Font11" type="text" min="0" maxlength="10" />
                        </div>
                    </div>
                    <div class="d-flex mt-2">
                        <span ID="Label62" class="col-md-4 text-md-end me-1">Bank: </span>
                        <div class="col-md-7">
                            <input id="txtWireBank" class="input-sm txtRequired Font11" type="text" min="0" maxlength="20" />
                        </div>
                    </div>
                    <div class="d-flex mt-2">
                        <span ID="Label63" class="col-md-4 text-md-end me-1">Reference: </span>
                        <div class="col-md-7">
                            <input id="txtWireAccount" class="input-sm txtRequired Font11" type="text" maxlength="50" />
                        </div>
                    </div>
                    <div class="d-flex mt-2">
                        <span ID="Label63" class="col-md-4 text-md-end me-1">Wire will be sent by: </span>
                        <div class="col-md-7">
                            <input id="dpWireDate" class="input-sm txtRequired Font11" type="date" />
                        </div>
                    </div>
                    <div class="d-flex mt-2">
                        <span ID="Label63" class="col-md-4 text-md-end me-1">Comments: </span>
                        <div class="col-md-7">
                            <textarea id="txtWireComment" class="input-sm txtRequired Font11" rows="3" maxlength="250"> </textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="PaymentType" tabindex="-1" aria-labelledby="paymenttypeLbl" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" style="height:400px; width:300px;">
        <div class="modal-content">
            <table style="width: 100%">
                <tr>
                    <td>
                        <table class="popupheader">
                            <tr>
                                <td style="padding: 3px">
                                    <label for="selectoptions">Select option(s)</label>
                                </td>
                                <td style="padding: 3px; text-align: right">
                                    <button id="btnPaymentTypeSave" type="button" class="btn">Proceed</button>
                                    <button id="closeModal" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="padding-top: 10px; padding-left: 5px">
                        <asp:CheckBoxList ID="ckPaymentType" runat="server" DataTextField="ChargeTypeID" DataValueField="ChargeType_pKey" CssClass="CheckBox Font11" />
                        @if (ViewBag.PaymentTypeList != null)
                        {
                            <div class="me-md-1 mb-2 mb-md-1">
                                <div class="col-xs-12">
                                    <select id="ckPaymentType" required name="PaymentType">
                                        @foreach (var item in ViewBag.PaymentTypeList)
                                        {
                                            <option value="@item.Value" name="ntrack"> @item.Text </option>
                                        }
                                    </select>
                                </div>
                            </div>
                        }
                    </td>
                </tr>
            </table>
        </div>

    </div>
</div>

<div id="dvGraph">
    <div class="modal fade" id="rwGraph" tabindex="-1" aria-labelledby="rwGraph" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" style="width:1000px;">
            <div class="modal-content">
                <div class="modal-header modalBlueHeader">
                    <h5 class="modal-title">Poll Results</h5>
                    <div>
                        <button id="closeModal" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Close</button>
                    </div>
                </div>
                <div class="modal-body">
                    <canvas id="myChart" style="width:100%;max-width:600px"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modelNavInstructions" tabindex="-1" aria-labelledby="modelNavInstructions" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header modalBlueHeader">
                <h5 class="modal-title" id="NavigationInstructions">Navigation Instructions</h5>
                <div>
                    <button id="closeNavInstructions" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                </div>
            </div>
            <div class="modal-body p-0">
                <div class="row p-2">
                    <div class="col-xs-12" id="modalNavBody" style="height:400px; overflow-y:scroll;">

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modelEvtUpdatesVirtual" tabindex="-1" aria-labelledby="modelEvtUpdatesVirtual" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header modalBlueHeader">
                <h5 class="modal-title" id="EvtUpdatesVirtual">Event Updates</h5>
                <div>
                    <button id="closeEvtUpdatesVirtual" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Close</button>
                </div>
            </div>
            <div class="modal-body p-0">
                <div class="row p-2">
                    <div class="col-xs-12 mb-1" id="modalEvtUpdatesVirtualBody" style="height:400px; overflow-y:scroll;">
                    </div>
                    <div class="text-center">
                        <button id="closeEvtUpdatesVirtual" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modelHelpMedia" tabindex="-1" aria-labelledby="modelHelpMedia" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header justify-content-end" style=" background-color: #fff !important; padding: 0px !important;">
                <label id="closeHelpMedia" class="pull-right  float-end mb-2" data-bs-dismiss="modal" aria-label="Close" style="cursor:pointer;float:right"><i class="fa fa-close"></i></label>
            </div>
            <div class="modal-body" id="modelHelpMediaBody">
                <div class="row p-2">
                    @{
                        if (ViewBag.HelpIconInfo != null)
                        {
                            if ((ViewBag.HelpIconInfo.PageIconVisible))
                            {
                                <input type="hidden" id="LogIDinfo" value="" />
                                <input type="hidden" id="pageVideoLink" value="@ViewBag.HelpIconInfo.PageDocumentLink" data-filename="@ViewBag.HelpIconInfo.PageFileName" data-usetype="@ViewBag.HelpIconInfo.PageValue" data-type="@ViewBag.HelpIconInfo.PageMediaType" data-mime="@ViewBag.HelpIconInfo.PageMime" />
                                <video id="pageVideoContent" class="video-js" controls preload="auto" width="300" height="400">
                                    <p class="vjs-no-js">
                                        To view this video please enable JavaScript, and consider upgrading to a web browser that
                                    </p>
                                </video>
                            }
                        }
                    }
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modelVideoPlayer" tabindex="-1" aria-labelledby="modelVideoPlayer" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header justify-content-end" style=" background-color: #fff !important; padding: 0px !important;">
                <label id="closeVideoPlayer" class="pull-right  float-end mb-2" data-bs-dismiss="modal" aria-label="Close" style="cursor:pointer;float:right"><i class="fa fa-close"></i></label>
            </div>
            <div class="modal-body" id="modelHelpMediaBody">
                <div class="row p-2">
                    <video id="VideoPlayer" class="video-js" controls preload="auto" width="300" height="400">
                        <p class="vjs-no-js">
                            To view this video please enable JavaScript, and consider upgrading to a web browser that
                        </p>
                    </video>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modelIframeVideo" tabindex="-1" aria-labelledby="modelIframeVideo" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header justify-content-end" style=" background-color: #fff !important; padding: 0px !important;">
                <label id="closeIframeVideo" class="pull-right  float-end mb-2" data-bs-dismiss="modal" aria-label="Close" style="cursor:pointer;float:right"><i class="fa fa-close"></i></label>
            </div>
            <div class="modal-body" id="modelHelpMediaBody">
                <div class="row p-2">
                    <iframe id="IframeVideo" width="400" height="400"></iframe>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modelRecordingURLVimeo" tabindex="-1" aria-labelledby="modelIframeVideo" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header modalBlueHeader">
                <h5 class="modal-title" id="RecordingVimeoID">
                    Recording Link
                </h5>
                <div>
                    <button id="closeRecordingURLVimeo" type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                </div>
            </div>
            <div class="modal-body" id="modelHelpMediaBody">
                <div class="row p-2">
                    <a id="VimeoLinkURL" href="" title="" target="_blank"></a>
                </div>
            </div>
        </div>
    </div>
</div>

@if (ViewBag.OpenSurveyRadWindow)
{
    <div class="modal fade" id="rwSurveyQuestion" tabindex="-1" aria-labelledby="rwSurveyQuestion" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header modalBlueHeader">
                    <h5 class="modal-title" id="rwSurveyQuestionTitle">Registration Questions</h5>
                </div>
                <div class="modal-body p-0">
                    <div class="row p-2">
                        <div class="col-xs-12 pt-1">
                            @Html.Raw(ViewBag.lblRegText)
                        </div>
                        <div class="text-center">
                            <button id="cmdSaveQ" type="button" class="btn">Proceed</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#rwSurveyQuestion').modal('show');
            $('#cmdSaveQ').click(function (e) {
                e.preventDefault();
                var result = CommonFunctions.AjaxCall('Post', '/Virtual/cmdSaveQClick', '', 'json', 'Error While Updating Schedule');
                if (result !== null && result !== "ERROR") {
                    if (result.msg === "OK") {
                        parent.location.href = result.URL;
                    }
                    else
                        CommonFunctions.Alert("Error Occurred while updating");
                }
                else
                    CommonFunctions.Alert("Error Occurred while updating");
            });
        });
    </script>
}
<script src="~/Scripts/Chart.min.js"></script>
<script src="~/Scripts/jquery.dataTables.min.js"></script>
<script src="~/Scripts/dataTable.buttons.min.js"></script>
<script>
    $(document).ready(function ()
    {
        function onChangeVirtual() {
            var Data = { DropDownValue: $('#VirtualEventDropDown').val() };
            switch ($('#VirtualEventDropDown').val()) {
                case "9":
                    var result = CommonFunctions.AjaxCall('Get', '/Home/GetNavigationInstructions', '', 'json', 'Error accessing text block data.');
                    if (result.msg === "OK") {
                        $('#modalNavBody').html(result.Content);
                        $('#modelNavInstructions').modal('show');
                    }
                    else
                        CommonFunctions.Alert(result.msg);
                    break;
                case "27":
                    var result = CommonFunctions.AjaxCall('Get', '/Home/GetEventUpdatesContent', '', 'json', 'Error loading Event Updates');
                    if (result.msg === "OK") {
                        $('#modalEvtUpdatesVirtualBody').html(result.Content);
                        $('#modelEvtUpdatesVirtual').modal('show');
                    }
                    else
                        CommonFunctions.Alert(result);
                    break;
                case "21":
                    OpenChatWindow();
                    break;
                default:
                    var result = CommonFunctions.AjaxCall('Post', '/Home/VirtualDropdownSelected', Data, 'json', 'Error Occurred while redirecting');
                    if (result.ActionType === "Redirect")
                        window.location.href = result.RedirectionUrl;
                    break;
            }
        }

        $('#VirtualEventDropDown').multipleSelect({
            multiple: false, isopen: false, placeholder: 'Show All', selectAll: false, selectAllText: 'Select all', multiple: false, multipleWidth: 'auto', filter: false, width: 'auto', height: 28, maxHeight: 450, onClick: function () { onChangeVirtual(); },
        });
    
        
        $('#btnEventHandbook').on('click', function ()
        {
            var data={};
            var result=CommonFunctions.AjaxCall('Get', '/MyMagi/GetEventHandBook', data, 'Error While Getting File.');
            if (result!=null)
            {
                if (result.msg=="OK")
                {
                    window.location.href="/MyMagi/DownloadEventHAndBook?FileName="+result.strDisplayName;
                } else
                {
                    CommonFunctions.Alert(result.descp);
                }
            }
            e.preventDefault();
        });

        $('#btnInstructAtt').on('click', function (e)
        {

            document.getElementById("imgPopText").src="/Images/miscellaneous/terms.png";
            document.getElementById("lblPopTextTitle").innerHTML="Attendee Help";
            document.getElementById("btnPdfView").style.display='none';
            var data={ popupform: "AttendeeHelp" };
            var result=CommonFunctions.AjaxCall('Get', '/MyMagi/GetPopupText', data, 'Error While Getting File.');

            document.getElementById("lblPopText").innerHTML=result.AttendeeHelpPopText;
            $('#rwPopText').modal('show');

            e.preventDefault();
        });

        $('#btnCancelPlan').on('click', function (e)
        {
            e.preventDefault();
            $('#cancellationReason').val("");
            if ($('#hdfPopUPField').val()==="0")
                window.location.href="/CancelReg";
            else
                $('#CancelRegistration').modal('show');
        });

        $(document).on('click', '.btnReceipt', function (e)
        {
            $('#image1').hide();
            e.preventDefault();
            var DocRef=this.text;
            var result=CommonFunctions.AjaxCall('POST', '/MyMagi/ProcessReciptDocument', { docID: DocRef }, 'Error While Processing Reciept.');
            if (result!==null)
            {
                if (result.msg==="OK")
                {
                    $('#image1').attr('src', result.Logo);
                    $('#image1').attr('style', "height:"+result.Height+"px;");
                    $('#image1').show();
                    $('#rcptClass').attr('class', result.InfoClass);
                    $('#lblReciiptTitle').html(result.RecipetTitle);
                    $('#lblReceiptNum').html(result.ReciptNum);
                    $('#lblReceiptBody').html(result.RecieptBody);
                    $('#recipetPreview').modal('show');
                }
                else
                    CommonFunctions.Alert(result.msg);
            }
            else
                CommonFunctions.Alert("Error While Processing Reciept.");
        });

        $('#ExportPDFReciept').click(function ()
        {
            window.location.href='/MyMagi/ExportPDF?ReceiptNum='+$('#lblReceiptNum').text();
        });

        $('#btnInstructSpk').on('click', function (e)
        {

            document.getElementById("strViewPdfType").value="Speaker";

            document.getElementById("imgPopText").src="/Images/miscellaneous/terms.png";
            document.getElementById("lblPopTextTitle").innerHTML="Guidelines for Speakers";
            document.getElementById("btnPdfView").style.display='block';
            document.getElementById("btnPdfView").innerHTML="Download Speaker Guidelines";

            var data={ popupform: "SpeakersGuidelines" };
            var result=CommonFunctions.AjaxCall('Get', '/MyMagi/GetPopupText', data, 'Error While Getting File.');

            document.getElementById("lblPopText").innerHTML=result.ChairpersonsGuidelinesPopText;
            $('#rwPopText').modal('show');

            e.preventDefault();
        });

        $('#btnInstructLdr').on('click', function (e)
        {

            document.getElementById("imgPopText").src="/Images/miscellaneous/terms.png";
            document.getElementById("lblPopTextTitle").innerHTML="Guidelines for Leaders";
            document.getElementById("btnPdfView").style.display='none';
            var data={ popupform: "LeadersGuidelines" };
            var result=CommonFunctions.AjaxCall('Get', '/MyMagi/GetPopupText', data, 'Error While Getting File.');

            document.getElementById("lblPopText").innerHTML=result.LeadersGuidelinesPopText;
            $('#rwPopText').modal('show');

            e.preventDefault();
        });

        $('#btnInstructModt').on('click', function (e)
        {

            document.getElementById("imgPopText").src="/Images/miscellaneous/terms.png";
            document.getElementById("lblPopTextTitle").innerHTML="Guidelines for Moderators";
            document.getElementById("btnPdfView").style.display='none';
            var data={ popupform: "ModeratorsGuidelines" };
            var result=CommonFunctions.AjaxCall('Get', '/MyMagi/GetPopupText', data, 'Error While Getting File.');

            document.getElementById("lblPopText").innerHTML=result.ModeratorsGuidelinesPopText;
            $('#rwPopText').modal('show');

            e.preventDefault();
        });

        $('#btnInstructChr').on('click', function (e)
        {
            document.getElementById("strViewPdfType").value="Chair";

            document.getElementById("imgPopText").src="/Images/miscellaneous/terms.png";
            document.getElementById("lblPopTextTitle").innerHTML="Guidelines for Chairpersons";
            document.getElementById("btnPdfView").style.display='block';
            document.getElementById("btnPdfView").innerHTML="Download Chairperson Guidelines";
            var data={ popupform: "ChairpersonsGuidelines" };
            var result=CommonFunctions.AjaxCall('Get', '/MyMagi/GetPopupText', data, 'Error While Getting File.');

            document.getElementById("lblPopText").innerHTML=result.ChairpersonsGuidelinesPopText;
            $('#rwPopText').modal('show');

            e.preventDefault();
        });

        $(document).on('click', '.btnSpkSes, .RepSes', function (e)
        {
            window.location.href="/frmMySpeakerPage.aspx?ESPK="+this.id;
        });

        $('#btnSpkDin').on('click', function (e)
        {
            window.location.href="/MySpeakerDinner";
        });
        $('#btnSpkCert').on('click', function ()
        {
            window.location.href="/MyMagi/DownloadSpkCertificate";
        });
        $('#btnSpkFeed').on('click', function (e)
        {
            window.location.href="/MyFeedback";
        });
        $('#btnChrPrfrnc').on('click', function (e)
        {
            window.location.href="/MySessionChair";
        });

        $('#btnPartnerMInstruct').on('click', function (e)
        {
            var ptype=document.getElementById("hdnParticipationType").value;
            var link="";
            var data={ intParticipationType: ptype };
            var result=CommonFunctions.AjaxCall('GET', '/MyMAGI/DownloadPartnerMInstruct', data, 'Error While Reaching File.');
            if (result!==null)
            {
                if (result.result==="OK")
                {
                    link=result.elink;
                    $('#PopupFile').modal('show');
                    document.getElementById('idPopupfile').src=link;

                } else
                {
                    CommonFunctions.Alert(result.msg);
                }
            }
            e.preventDefault();
        });

        $('#btnPTypeGLines').on('click', function (e)
        {
            e.preventDefault();
            var ptype=document.getElementById("hdnParticipationType").value;
            if (ptype==1)
            {
                document.getElementById("lblPopTextTitle").innerHTML="Guidelines for exhibitor";
                document.getElementById("btnPdfView").style.display='none';
                document.getElementById("strViewPdfType").value="Exhibit";

            } else if (ptype==2)
            {
                document.getElementById("lblPopTextTitle").innerHTML="Guidelines for other partner";
                document.getElementById("btnPdfView").style.display='none';
                document.getElementById("strViewPdfType").value="Other";
            } else if (ptype==3)
            {
                document.getElementById("lblPopTextTitle").innerHTML="Guidelines for media partner";
                document.getElementById("btnPdfView").style.display='none';
                document.getElementById("strViewPdfType").value="Media";
            } else if (ptype==4)
            {
                document.getElementById("lblPopTextTitle").innerHTML="Guidelines for branding partner";
                document.getElementById("btnPdfView").style.display='none';
                document.getElementById("strViewPdfType").value="Branding";
            } else if (ptype==5)
            {
                document.getElementById("lblPopTextTitle").innerHTML="Guidelines for Event Sponsor";
                document.getElementById("btnPdfView").style.display='none';
                document.getElementById("strViewPdfType").value="Event Sponsor";
            } else
            {
                document.getElementById("lblPopTextTitle").innerHTML="Guidelines for non-exhibitor";
                document.getElementById("btnPdfView").style.display='none';
                document.getElementById("strViewPdfType").value="NonExhibit";
            }
            document.getElementById("imgPopText").src="/Images/miscellaneous/terms.png";

            var data={ intParticipationType: ptype };
            var result=CommonFunctions.AjaxCall('Get', '/MyMagi/PTypeGLines', data, 'Error While Getting File.');
            if (result !== null && result !== "ERROR") {
                if (result.result === "OK") {
                    if (ptype != 5) {
                        document.getElementById("lblPopText").innerHTML = result.lblPopuptext;
                        $('#rwPopText').modal('show');
                    }
                    if (result.popFileURL !== "") {
                        document.getElementById('idPopupfile').src = result.popFileURL;
                        $('#PopupFile').modal('show');
                    }
                }
                else
                    CommonFunctions.Alert(result.result);
            }
            else
                CommonFunctions.Alert("Error Occurred");
        });

        $('#btnPdfView').on('click', function (e)
        {
            var ptype=document.getElementById("hdnParticipationType").value;
            var strpdfType=document.getElementById("strViewPdfType").value;
            var link="";
            var data={
                intParticipationType: ptype,
                strViewPdfType: strpdfType
            };
            var result=CommonFunctions.AjaxCall('GET', '/MyMAGI/PopupPdfView', data, 'Error While Reaching File.');
            if (result!==null)
            {
                if (result.result==="OK")
                {
                    link=result.link;
                    $('#PopupFile').modal('show');
                    document.getElementById('idPopupfile').src=link;

                } else
                {
                    CommonFunctions.Alert(result.msg);
                }
            }
            e.preventDefault();
        });

        $('#btnPtExh').on('click', function ()
        {
            var ptype=document.getElementById("hdnParticipationType").value;
            var data={ intParticipationType: ptype };
            var result=CommonFunctions.AjaxCall('GET', '/MyMAGI/PartnerExhibitors', data, 'Error While Reaching File.');
            if (result !== null && result.msg === "OK")
                window.location.href = result.elink;
        });

        $('#btnPartnerDinner').on('click', function ()
        {
            window.location.href="/MySpeakerDinner";
        });

        $('#btnInstructAmbassador').on('click', function (e)
        {
            $('#rwAmbassador').modal('show');
            e.preventDefault();
        });

        $('#btnSpecialEvents').on('click', function (e)
        {
            $('#rwSpecialEvents').modal('show');
            e.preventDefault();
        });

        $('#btnNoReg').on('click', function ()
        {
            window.location.href="/Registration";
        });

        $('#btnNoSpeak').on('click', function ()
        {
            window.location.href="/Events/BecomeSpeaker";
        });

        $('.btnAllowAttendee').on('click', function (e)
        {
            var mainid=this.id;
            var id=mainid.toString().replace("Spkquest+", "").replace("Chrquest+", "");
            var text=this.innerText;
            var data={ ESPK: id, btntext: text };
            var result=CommonFunctions.AjaxCall('GET', '/MyMAGI/AllowAttendee', data, 'Error While Processing.');
            if (result!==null)
            {
                if (result.result==="OK")
                {
                    document.getElementById(mainid).innerText=result.btnText;
                    CommonFunctions.Alert(result.msg);
                } else
                {
                    CommonFunctions.Alert(result.msg);
                }
            }
        });

        $('.btnQuesResponse').on('click', function (e)
        {

            var mainid=this.id;
            var id=mainid.toString().replace("SQueResp+", "").replace("CQueResp+", "");
            var DataSet=null;
            var data={ ESPK: id };
            var result=CommonFunctions.AjaxCall('Get', '/MyMagi/QuesResponse', data, 'Error While Updating Payment.');
            if (result!==null||result!=="ERROR")
            {
                if (result.msg==="OK")
                    DataSet=JSON.parse(result.Source);
            }
            $('#tblResponse').dataTable({
                paging: false, bFilter: false, ordering: false, sorting: false, searching: false, "order": [[0, "desc"]],
                fixedHeader: false,
                scrollY: '20vh',
                data: DataSet,
                columns: [

                    { title: "Question", data: "Question" },
                    {
                        title: "Response",
                        data: { pkey: "pkey", EventSession_pkey: "EventSession_pkey", Question: "Question" },
                        render: function (data, type, full)
                        {
                            return `<a id="idviewgraph" class="viewgraphBtn" data-id="${data.pkey}" data-value="${data.EventSession_pkey}" data-question="${data.Question}"  href="javascript:void(0)" style="color:blue;">View Graph</a>`
                        }
                    },

                ]
            });
            $('#rwResponse').modal('show');
            e.preventDefault();

        });

        $('#btnStarted').on('click', function (e)
        {
            var data={};
            var result=CommonFunctions.AjaxCall('GET', '/MyMAGI/SpkGetStarted', data, 'Error While Processing.');
            if (result!==null)
            {
                window.location.href=result.elink;
            }
        });

        $('#btnConfFeedback').on('click', function (e)
        {
            window.location.href="/MyConferenceFeedback";
        });

        $("#btnPaynow").on('click', function (e)
        {
            e.preventDefault();
            $('#rwPaymentMethod').modal('show');
        });

        $('#btnPaymentOpProceed').click(function (e)
        {
            e.preventDefault();
            var paymentMethod=$("input[type='radio'][name='rdPaymentMethod']:checked").val();
            switch (paymentMethod)
            {
                case "@ViewBag.METHOD_Voucher":
                    $('#txtVAmount').val($('#eABal').val());
                    $('#trVPin,#trVPinReq,#lblVoucherInstruction').hide();
                    $('#trVCode').show();
                    $('#txtVoucherNo,#txtVoucherPin,#IssuedForEventpKey,#sIssuedForEvent').val('');
                    $('#lblVoucherAmount').text('')
                    $('#rwVoucher').modal('show');
                    break;
                case "@ViewBag.METHOD_Credit":
                    $('#txtCreditAmount,#lblCreditAmount,#eventAccoubtBalance').val($('#eABal').val());
                        $('.ClearText').val("");
                        $('#ddMonth').val($('#selMonth').val());
                        $('#ddYear').val($('#selYear').val());
                        $('#payCredit').modal('show');
                    break;
                case "@ViewBag.METHOD_Check":
                    $('#txtCheckAmount,#lblCreditAmount,#eventAccoubtBalance').val($('#eABal').val());
                    $('#txtPayCheckNum,#txtPayCheckName,#dpPayCheckExpect').val('');
                    $('#rwCheck').modal('show');
                    break;
                case "@ViewBag.METHOD_Wire":
                    $('#txtWireAmount,#lblCreditAmount,#eventAccoubtBalance').val($('#eABal').val());
                    $('#txtWireBank,#txtWireAccount,#dpWireDate,#txtWireComment').val('');
                    $('#rwWire').modal('show');
                    break;
            }
        });

        function Validate()
        {
            var isError=true;
            if (document.getElementById("txtCCNum").value.length<16)
            {
                isError=false;
            }
            document.getElementById("txtCCNum").style.setProperty("background-color", (document.getElementById("txtCCNum").value.length<16)? "#f08080":"#fff");
            document.getElementById("txtCreditCode").style.setProperty("background-color", (document.getElementById("txtCreditCode").value==="")? "#f08080":"#fff");
            document.getElementById("txtCreditFirstName").style.setProperty("background-color", (document.getElementById("txtCreditFirstName").value==="")? "#f08080":"#fff");
            document.getElementById("txtCreditLastname").style.setProperty("background-color", (document.getElementById("txtCreditLastname").value==="")? "#f08080":"#fff");
            document.getElementById("txtCreditAddress").style.setProperty("background-color", (document.getElementById("txtCreditAddress").value==="")? "#f08080":"#fff");
            document.getElementById("txtCreditZipcode").style.setProperty("background-color", (document.getElementById("txtCreditZipcode").value==="")? "#f08080":"#fff");
            document.getElementById("txtCreditName").style.setProperty("background-color", (document.getElementById("txtCreditName").value==="")? "#f08080":"#fff");
            return isError;
        }

        $('#btnProceedPayment').on('click', function (e)
        {
            e.preventDefault();
            var cardtype=document.getElementById("ddCardType").value;
            var ddMonth=document.getElementById("ddMonth").value;
            var ddYear=document.getElementById("ddYear").value;
            if (!Validate())
                return false;

            var paymentMethod=$("input[type='radio'][name='rdPaymentMethod']:checked").val();
            var data=
            {
                txtCreditAmount: $('#eABal').val(),
                lblCreditAmount: $("txtCreditAmount").text(),
                dblAccountBalance: $('#eABal').val(),
                ddCardType: cardtype,
                txtCCNum: document.getElementById("txtCCNum").value,
                ddMonth: ddMonth,
                ddYear: ddYear,
                txtCreditCode: document.getElementById("txtCreditCode").value,
                txtCreditName: document.getElementById("txtCreditName").value,
                txtCreditFirstName: document.getElementById("txtCreditFirstName").value,
                txtCreditLastname: document.getElementById("txtCreditLastname").value,
                txtCreditZipcode: document.getElementById("txtCreditZipcode").value,
                txtCreditAddress: document.getElementById("txtCreditAddress").value,
                eventAccoubtBalance: document.getElementById("eventAccoubtBalance").value,
                ckPaymentType: ((paymentMethod===undefined)? "":paymentMethod),
            }
            var result=CommonFunctions.AjaxCall('POST', '/MyMagi/PayementSubmit', data, 'Error While Updating Payment.');
            if (result!==null)
            {
                if (result.msg==="OK")
                {
                    $('#payCredit').modal('hide');
                    if (result.redirect!=="")
                        window.location.reload();
                }
                else
                    CommonFunctions.Alert(result.msg);
            }
            else
                CommonFunctions.Alert("Error Occured While Updating Payment");
        });

        $(document).on('click', '.viewgraphBtn', function (e)
        {
            var pkey=$(this)[0].dataset.id;
            var ESPK=$(this)[0].dataset.value;
            var quest=$(this)[0].dataset.question;
            var data={ intQues_pkey: pkey, intEventSession_pkey: ESPK };
            var result=CommonFunctions.AjaxCall('GET', '/MyMagi/ViewResponseGraph', data, 'Error While Fetching Graph.');
            var xValues=result.Xaxis;
            var yValues=result.Yaxis;

            var barColors=["#EFEFEF", "#F7F7F7"];

            new Chart("myChart", {
                type: "bar",
                data: {
                    labels: xValues,
                    datasets: [{
                        backgroundColor: barColors,
                        data: yValues
                    }]
                },
                options: {
                    legend: { display: false },
                    title: {
                        display: true,
                        text: quest
                    }
                }
            });


            $('#rwGraph').modal('show');
        });

        $('#cmdVoucherValidate').click(function (e)
        {
            e.preventDefault();

            if ($('#txtVoucherNo').val()==="")
            {
                CommonFunctions.Alert("The entered voucher code is not valid.");
                return false;
            }

            var data={ VoucherNo: $('#txtVoucherNo').val()};
            var result=CommonFunctions.AjaxCall('GET', '/MyMAGI/cmdVoucherValidate', data, 'Error While Processing.');
            if (result!==null)
            {
                if (result.sErrorVoucher!=="")
                    CommonFunctions.Alert(result.sErrorVoucher);
                else
                {
                    if (result.vPinVisible)
                        $('#trVPin').show();
                    else
                        $('#trVPin').hide();

                    if (result.vCodeVisible)
                        $('#trVCode').show();
                    else
                        $('#trVCode').hide();

                    if (result.trVpin)
                        $('#trVPinReq').show();
                    else
                        $('#trVPinReq').hide();

                    if (result.VoucherInstVisible)
                        $('#lblVoucherInstruction').show();
                    else
                        $('#lblVoucherInstruction').hide();

                    $('#txtVoucherPin').val(result.sVoucherPin);
                    $('#lblVoucherAmount').text(result.sVoucherAmount);

                    $('#IssuedForEventpKey').val(result.intIssuedForEvent_pKey);
                    $('#sIssuedForEvent').val(result.sIssuedForEvent);
                }
            }
        });

        $('#cmdSaveVoucher').click(function (e)
        {
            e.preventDefault();
            if ($('#txtVoucherNo').val()==="")
            {
                CommonFunctions.Alert("The entered voucher code is not valid.");
                return false;
            }
            if ($('#txtVAmount').val()==="")
            {
                CommonFunctions.Alert("The entered amount is not valid.");
                return false;
            }
            if ($('#txtVoucherPin').val()==="")
            {
                CommonFunctions.Alert("The entered voucher pin is not valid.");
                return false;
            }

            var data={ VoucherNo: $('#txtVoucherNo').val(), txtVoucherPin: $('#txtVoucherPin').val()};
            var result=CommonFunctions.AjaxCall('POST', '/MyMAGI/cmdSaveVoucher', data, 'Error While Processing.');
            if (result!==null&&result!=="ERROR")
            {
                if (result.msg==="OK")
                {
                    if (result.popuprwVoucherConfirm)
                    {
                        $('#lblVoucherConfirm').text(result.sVoucherConfirm);
                        $('#hdnRemainingAmount').val(result.RemainingAmount);
                        $('#hdnVoucherPkey').val(resutl.VoucherPkey);
                        $('#hdnVoucherCode').val(result.VoucherCode);
                        $('#rwVoucherConfirm').modal('show');
                    }
                    else
                        window.location.href="/MyMAGI/MyConference";
                } else
                    CommonFunctions.Alert(result.msg);
            }
            else
                CommonFunctions.Alert("Error occurred while processing Voucher");
        });

        $('#cmdCheckSave').click(function (e)
        {
            e.preventDefault();
            if ($('#txtPayCheckNum').val()==="")
            {
                CommonFunctions.Alert("The entered check number is not valid.");
                return false;
            }
            if ($('#txtCheckAmount').val()==="")
            {
                CommonFunctions.Alert("The entered amount is not valid.");
                return false;
            }
            if ($('#txtPayCheckName').val()==="")
            {
                CommonFunctions.Alert("The entered check name is not valid.");
                return false;
            }
            if ($('#dpPayCheckExpect').val()==="")
            {
                CommonFunctions.Alert("The entered check date is not valid.");
                return false;
            }

            var paymentMethod=$("input[type='radio'][name='rdPaymentMethod']:checked").val();
            var data={
                PayCheckNum: $('#txtPayCheckNum').val(), Amount: $('#txtCheckAmount').val(), paycheckName: $('#txtPayCheckName').val(),
                ckPaymentType: ((paymentMethod===undefined)? "":paymentMethod), dpPayCheckExpect: $('#dpPayCheckExpect').val(),
                PayAmount: $('#eABal').val()
            };
            var result=CommonFunctions.AjaxCall('POST', '/MyMAGI/CheckSave', data, 'Error While Processing.');
            if (result!=null)
            {
                var result=result.result;
                if (result!==null)
                {
                    if (result.ErrorMsg==="OK")
                        window.location.href="/MyMAGI/MyConference";
                    else
                        CommonFunctions.Alert(result.ErrorMsg);
                }
            }
            else
                CommonFunctions.Alert("Error occurred while processing check submission");
        });

        $('#cmdWireSave').click(function (e)
        {
            e.preventDefault();
            if ($('#txtWireBank').val()==="")
            {
                CommonFunctions.Alert("The entered wire bank is not valid.");
                return false;
            }
            if ($('#txtWireAmount').val()==="")
            {
                CommonFunctions.Alert("The entered amount is not valid.");
                return false;
            }
            if ($('#txtWireAccount').val()==="")
            {
                CommonFunctions.Alert("The entered wire account is not valid.");
                return false;
            }
            if ($('#dpWireDate').val()==="")
            {
                CommonFunctions.Alert("The entered wire date is not valid.");
                return false;
            }

            var paymentMethod=$("input[type='radio'][name='rdPaymentMethod']:checked").val();
            var data={
                WireBank: $('#txtWireBank').val(), Amount: $('#txtWireAmount').val(), WireAccount: $('#txtWireAccount').val(),
                ckPaymentType: ((paymentMethod===undefined)? "":paymentMethod), dpWireDate: $('#dpWireDate').val(), Comment: $('#txtWireComment').val(),
                PayAmount: $('#eABal').val()
            };
            var result=CommonFunctions.AjaxCall('POST', '/MyMAGI/WireSave', data, 'Error While Processing.');
            if (result!==null)
            {
                var result=result.result;
                if (result!==null)
                {
                    if (result.ErrorMsg==="OK")
                        window.location.href="/MyMAGI/MyConference";
                    else
                        CommonFunctions.Alert(result.ErrorMsg);
                }
            }
            else
                CommonFunctions.Alert("Error occurred while processing check submission");
        });

        $('#cmdVoucherConfirmCreate').click(function (e)
        {
            e.preventDefault();
            var data={ VoucherNo: $('#hdnVoucherCode').val(), hdnRemainingAmount: $('#hdnRemainingAmount').val(), hdnVoucherPkey: $('#hdnVoucherPkey').val() };
            var result=CommonFunctions.AjaxCall('POST', '/MyMAGI/cmdSaveVoucher', data, 'Error While Processing.');
            if (result!==null&&result!=="ERROR")
            {
                if (result.msg==="OK")
                {
                    window.location.href="/MyMAGI/MyConference";
                } else
                    CommonFunctions.Alert(result.msg);
            }
            else
                CommonFunctions.Alert("Error occurred while processing Voucher");
        });
    });
</script>
@if (ViewBag.HelpIconInfo != null && (ViewBag.HelpIconInfo.PageIconVisible))
{
    <script type="text/javascript">
        $(document).ready(function () {
            var player = videojs("pageVideoContent", { "techOrder": ["html5", "youtube"], "ytcontrols": false, "autoplay": true, "preload": "auto", "loop": false });
            player.ready(function () {
                var promise = player.play();
                if (promise !== undefined) {
                    promise.then(function () {
                        // Autoplay started!
                    }, function (error) {
                        console.info(error);
                    });
                }
            });
            player.on("ended", function () {
                if (typeof alertify !== 'undefined') {
                    alertify.confirm('I have watched the entire video', function (e) {
                        CommonFunctions.AjaxCall('Post', '/Home/UpdateHelpLogTime', { ID: $('#LogIDinfo').val() }, 'json', 'Error Occurred while Updating Log');
                    });
                }
                else {
                    var r = confirm('I have watched the entire video');
                    if (r)
                        CommonFunctions.AjaxCall('Post', '/Home/UpdateHelpLogTime', { ID: $('#LogIDinfo').val() }, 'json', 'Error Occurred while Updating Log');
                    else
                        CommonFunctions.AjaxCall('Post', '/Home/UpdateHelpLogTime', { ID: $('#LogIDinfo').val() }, 'json', 'Error Occurred while Updating Log');
                }
            });
            function PageVideoPlay(mediatype, sourceType, valueinfo) {
                var vimeoResult = valueinfo.match(/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i);
                if (vimeoResult !== null) {
                    window.open(valueinfo, '_blank');
                }
                else {
                    if (mediatype.toLocaleLowerCase() === "video" || mediatype.toLocaleLowerCase() === "audio")
                        player.src({ type: sourceType, src: valueinfo });
                    if (mediatype.toLocaleLowerCase() === "video url") {
                        var youtubeResult = valueinfo.match(/(?:https?:\/\/)?(?:www\.)?youtu(?:\.be\/|be.com\/\S*(?:watch|embed)(?:(?:(?=\/[^&\s\?]+(?!\S))\/)|(?:\S*v=|v\/)))([^&\s\?]+)/);
                        if (youtubeResult !== null)
                            player.src({ type: 'video/youtube', src: valueinfo });
                        else
                            player.src(valueinfo);
                    }


                    $('#pageVideoContent').show();
                    $('#modelHelpMedia').modal('show');
                }
            }
            function Logupdate(pvalue, fName, Autoplay) {
                $('#LogIDinfo').val(0);
                var data = {
                    type: pvalue,
                    fileName: fName,
                    bAutoplay: Autoplay,
                }
                var result = CommonFunctions.AjaxCall('POST', '/Home/UpdateHelpIconLog', data, 'json', 'Error Occurred while Updating Log');
                if (result != null) {
                    if (result.msg === "OK") {
                        $('#LogIDinfo').val(result.LogResult);
                    }
                }
            }
            var AutoplayPageVideo = $('#vidAutoPlayType').val();
            if (AutoplayPageVideo !== null) {
                var elemDS = $('#pageVideoLink')[0].dataset;
                var mType = elemDS["type"];
                if (AutoplayPageVideo === "true") {
                    var fname = elemDS["filename"];
                    var uType = elemDS["usetype"];
                    Logupdate(uType, fname, true);

                    var valLink = $('#pageVideoLink').val();
                    var sType = elemDS["mime"];
                    if (mType.toLocaleLowerCase() === "document" || mType.toLocaleLowerCase() === "live url")
                        window.open(valLink, '_blank');
                    else
                        PageVideoPlay(mType, sType, valLink);
                }
            }
            $('#PageHelpIcon').click(function (e) {
                e.preventDefault();
                var valLink1 = $('#pageVideoLink').val();
                var elem1DS = $('#pageVideoLink')[0].dataset;
                var mT1 = elem1DS["type"];
                var sT1 = elem1DS["mime"];
                var fname1 = elem1DS["filename"];
                var uType1 = elem1DS["usetype"];
                Logupdate(uType1, fname1, false);
                if (mT1.toLocaleLowerCase() === "document" || mT1.toLocaleLowerCase() === "live url")
                    window.open(valLink1, '_blank');
                else
                    PageVideoPlay(mT1, sT1, valLink1);
            });
            $('#closeHelpMedia').click(function () {
                player.pause();
            });
        });
    </script>
}